# 과제3. 데드락
데드락, 즉 교착상태에 대해서 비유적으로 설명할 때 주로 사용되는 예시로 '식사하는 철학자 문제'라는 것이 있다. 조사하고 정리하여 글을 써 보자.

1. 식사하는 철학자 문제
- 조건  
    5명의 철학자가 원탁에 앉아서 식사를 한다.
    철학자 사이에 젓가락 하나씩 주어진다.
    철학자들은 일정 시간 동안 생각을 한다.
    왼쪽 젓가락이 사용 가능할 때까지 대기하다가 사용 가능하면 집어든다.
    오른쪽 젓가락이 사용 가능할 때까지 대기하다가 사용 가능하면 집어든다.
    젓가락 한 쌍을 얻으면 식사를 한다.
    오른쪽 젓가락을 내려놓는다.
    왼쪽 젓가락을 내려놓는다.

- 비유
    - 젓가락: 자원(Resource)
    - 철학자: 프로세스(Process or Thread)
    - 필요한 젓가락 수: 필요한 자원의 수

- 문제점  
    만약 철학자들 모두 왼쪽 젓가락만 들고 오른쪽 젓가락을 기다리기만 한다면 교착상태와 기아가 발생한다.
    - 교착상태(Deadlock): 모두 식사를 하지 못했기 때문에 젓가락을 내려놓을 일이 없다.
    - 기아(Starvation): 이러한 상황이 지속되면 모두 굷어죽는다.

- 교착상태 발생 조건
    - 상호배제(Mutual Exclusion): 자원은 한 번에 한 프로세스만 사용할 수 있음
    - 점유대기(Hold and Wait): 프로세스가 자원을 가지고 있는 상태에서 다른 자원을 기다리는 상태
    - 비선점(No Preemption): 프로세스가 자원을 강제로 빼앗을 수 없는 상태
    - 순환대기(Circular Wait): 프로세스가 자원을 순환적으로 기다리는 상태

2. 해결 방법
- Prevention: concurrency에 제약을 가하는 방식으로 교착 상태 방지. 자원 활용도와 concurrency가 떨어짐.
    - 순환대기가 발생하지 않도록 철학자 5명이 앉을 수 있는 테이블에 최대 4명만 앉을 수 있도록 한다.
    - 점유대기가 발생하지 않도록 두 젓가락을 모두 집을 수 있을 때에만 젓가락을 집도록 허용한다.
    - 순환대기가 발생하지 않도록 홀수번째 철학자는 왼쪽, 오른쪽 순서로, 짝수번째 철학자는 오른쪽, 왼쪽 순서로 젓가락을 집도록 한다.
- Avoidence: 자원에 대한 요청이 있을 때 deadlock이 발생하지 않는 안전한 요청인지 확인하고 허가하는 방식. 상대적으로 높은 자원 활용도와 concurrency를 보임.
    - Banker's Algorithm
- Starvation 해결책
    - 오래 기다린 프로세스의 우선 순위를 높여준다.
    - 프로세스의 우선 순위를 수시로 변경한다.


### 참고 글
https://itstory1592.tistory.com/95
https://yonghwankim-dev.tistory.com/479
https://letsmakemyselfprogrammer.tistory.com/114
https://dkswnkk.tistory.com/412
https://velog.io/@woga1999/Starvation-%EA%B8%B0%EC%95%84-%EC%83%81%ED%83%9C-%EB%9E%80